<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title> Share my monitor </title>
</head>
<style>

</style>

<body style="margin: 0; padding: 10px;">
    <p> Share My Monitor </p>
    <input id="play" class="command" value="Play" type="button" disabled />
    <input id="stop" class="command" value="Stop" type="button" disabled />

    <script>
        const electron = require('electron')
        const { ipcRenderer } = require('electron')
        ipcRenderer.on('dualDisplay', (event, arg) => {
            inputSelect = document.getElementsByClassName('command');
            for(const i in inputSelect) {
                inputSelect[i].disabled = false;
            }
        })

        function sendMessage(arg) {
            const { width, height } = electron.screen.getPrimaryDisplay().workAreaSize
            let info = {
                message: arg,
                width: width,
                height: height
            }
            console.log("Send message : ", info.message); 
            ipcRenderer.send('synchronous-message', info);
        }

        document.getElementById("play").addEventListener("click", () => { sendMessage('play') });
        document.getElementById("stop").addEventListener("click", () => { sendMessage('stop') });

    </script>
</body>


</html>